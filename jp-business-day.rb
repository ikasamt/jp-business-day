# -*- encoding: utf-8 -*-
require 'date'



HOLIDAYS = {
  '2013/01/01' => '元日',
  '2013/01/14'=> '成人の日',
  '2013/02/11'=> '建国記念の日',
  '2013/03/20'=> '春分の日',
  '2013/04/29'=> '昭和の日',
  '2013/05/03'=>'憲法記念日',
  '2013/05/04'=>'みどりの日',
  '2013/05/05'=>'こどもの日',
  '2013/05/06'=>'振替休日',
  '2013/07/15'=>'海の日',
  '2013/09/16'=>'敬老の日',
  '2013/09/23'=>'秋分の日',
  '2013/10/14'=>'体育の日',
  '2013/11/3'=>'文化の日',
  '2013/11/4'=>'振替休日',
  '2013/11/23'=>'勤労感謝の日',
  '2013/12/23'=>'天皇誕生日',
  
  '2014/01/01'=>'元日',
  '2014/01/13'=>'成人の日',
  '2014/02/11'=>'建国記念の日',
  '2014/03/21'=>'春分の日',
  '2014/04/29'=>'昭和の日',
  '2014/05/03'=>'憲法記念日',
  '2014/05/04'=>'みどりの日',
  '2014/05/05'=>'こどもの日',
  '2014/07/21'=>'海の日',
  '2014/09/15'=>'敬老の日',
  '2014/09/23'=>'秋分の日',
  '2014/10/13'=>'体育の日',
  '2014/11/03'=>'文化の日',
  '2014/11/24'=>'勤労感謝の日(振替休日)',
  '2014/12/23'=>'天皇誕生日',  
  
  '2015/01/01'=>'元日',
  '2015/01/12'=>'成人の日',
  '2015/02/11'=>'建国記念の日',
  '2015/03/21'=>'春分の日',
  '2015/04/29'=>'昭和の日',
  '2015/05/03'=>'憲法記念日',
  '2015/05/04'=>'みどりの日',
  '2015/05/05'=>'こどもの日',
  '2015/07/20'=>'海の日',
  '2015/09/21'=>'敬老の日',
  '2015/09/23'=>'秋分の日',
  '2015/10/12'=>'体育の日',
  '2015/11/03'=>'文化の日',
  '2015/11/23'=>'勤労感謝の日',
  '2015/12/23'=>'天皇誕生日',

  '2017/01/01'=>	'元日',
  '2017/01/02'=>	'振替休日',
  '2017/01/09'=>	'成人の日',
  '2017/02/11'=>	'建国記念の日',
  '2017/03/20'=>	'春分の日',
  '2017/04/29'=>	'昭和の日',
  '2017/05/03'=>	'憲法記念日',
  '2017/05/04'=>	'みどりの日',
  '2017/05/05'=>	'こどもの日',
  '2017/07/17'=>	'海の日',
  '2017/08/11'=>	'山の日',
  '2017/09/18'=>	'敬老の日',
  '2017/09/23'=>	'秋分の日',
  '2017/10/09'=>	'体育の日',
  '2017/11/03'=>	'文化の日',
  '2017/11/23'=>	'勤労感謝の日',
  '2017/12/23'=>	'天皇誕生日',

  '2018/01/01'=>	'元日',
  '2018/01/08'=>	'成人の日',
  '2018/02/11'=>	'建国記念の日',
  '2018/02/12'=>	'振替休日',
  '2018/03/21'=>	'春分の日',
  '2018/04/29'=>	'昭和の日',
  '2018/04/30'=>	'振替休日',
  '2018/05/03'=>	'憲法記念日',
  '2018/05/04'=>	'みどりの日',
  '2018/05/05'=>	'こどもの日',
  '2018/07/16'=>	'海の日',
  '2018/08/11'=>	'山の日',
  '2018/09/17'=>	'敬老の日',
  '2018/09/23'=>	'秋分の日',
  '2018/09/24'=>	'振替休日',
  '2018/10/08'=>	'体育の日',
  '2018/11/03'=>	'文化の日',
  '2018/11/23'=>	'勤労感謝の日',
  '2018/12/23'=>	'天皇誕生日',
  '2018/12/24'=>	'振替休日',
  

  '2019/01/01'=>	'元日',
  '2019/01/14'=>	'成人の日',
  '2019/02/11'=>	'建国記念の日',
  '2019/03/21'=>	'春分の日',
  '2019/04/29'=>	'昭和の日',
  '2019/04/30'=>	'国民の休日',
  '2019/05/01'=>	'新天皇即位日',
  '2019/05/02'=>	'国民の休日',
  '2019/05/03'=>	'憲法記念日',
  '2019/05/04'=>	'みどりの日',
  '2019/05/05'=>	'こどもの日',
  '2019/05/06'=>	'振替休日',
  '2019/07/15'=>	'海の日',
  '2019/08/11'=>	'山の日',
  '2019/08/12'=>	'振替休日',
  '2019/09/16'=>	'敬老の日',
  '2019/09/23'=>	'秋分の日',
  '2019/10/14'=>	'体育の日',
  '2019/10/22'=>	'即位礼正殿の儀',
  '2019/11/03'=>	'文化の日',
  '2019/11/04'=>	'振替休日',
  '2019/11/23'=>	'勤労感謝の日',  
}


if __FILE__ == $0

  size = (ARGV[0] || 30).to_i
  if ARGV[1]
    start_date = Date.strptime(ARGV[1], '%Y-%m-%d')
  else
    start_date = Date.strptime(Time.now().strftime('%Y-%m-%d'), '%Y-%m-%d')
  end

  end_date = start_date + size

  (start_date..end_date).each do |x|
     w = x.strftime("%w").to_i
     y = x.strftime("%y").to_i.to_s.rjust(4, " ")
     m = x.strftime("%m").to_i.to_s.rjust(2, " ")
     d = x.strftime("%d").to_i.to_s.rjust(2, " ")

     if HOLIDAYS.key? x.strftime("%Y/%m/%d")
       puts "" # 祝日はskip
     elsif w == 6
       puts ""  # 土曜日 は skip
     elsif w == 0
       puts ""  # 日曜日 は skip
     elsif 1 <= w and  w <= 6
       jw = ['日','月','火','水','木','金','土'][w]
       puts "#{m}/#{d}日(#{jw})"
     end
  end
end
